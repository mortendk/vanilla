{#
------------------------------------
Template for field type:
Image
---------------------------------
#}
{#
Available variables:
{{attributes}}: HTML attributes for the containing element.
{{label_hidden}}: Whether to show the field label or not.
{{title_attributes}}: HTML attributes for the title.
{{label}}: The label for the field.
multiple: TRUE if a field can contain multiple items.
items: List of all the field items. Each item contains:
  - attributes: List of HTML attributes for each item.
 - content: The field item's content.
{{entity_type}}: The entity type to which the field belongs.
{{field_name}}: The name of the field.
{{field_type}}: The type of the field.
{{label_display}}: The display settings for the label.

{{ view_mode }} : viewmode
{{ bundle }} : content type
#}

{%
  set classes = [
    (bundle =='article') and (view_mode=="full") and (field_name=="field_image") ? 'hero__image' : '',
    (bundle =='section') and (view_mode=="full") and (field_name=="field_image") ? 'hero__image' : '',
    (bundle =='section') and (view_mode=="full") and (field_name=="field_icon") ? 'hero__icon' : '',
    't-' ~ bundle,
    't-' ~ view_mode,
    't-' ~ field_name
  ]
%}
{%
  set title_classes = [
    label_display == 'visually_hidden' ? 'visually-hidden',
  ]
%}

{% if label_hidden %}
  {# --Multiple & no label  ------------------------------------------------- #}
  {% if multiple %}
    <ul{{ attributes.addClass(classes, 'field__items') }}>
      {% for item in items %}
        <li{{ item.attributes }}><figure>{{ item.content }}</figure></li>
      {% endfor %}
    </ul>
  {# /--Multiple & no label  ------------------------------------------------ #}

  {% else %}

  {# --single & no label  --------------------------------------------------- #}
  {% for item in items %}
    <figure{{ attributes.addClass(classes) }}>{{ item.content }}</figure>
  {% endfor %}
  {# / --single & no label  ------------------------------------------------- #}

  {% endif %}
  {# end of label_hidden #}
{% else %}
  {# Show label #}
  {% if multiple %}
  {#  multiple with label ----------------------------------------------------#}
    <section{{ attributes.addClass(classes) }}>
      <h3{{ title_attributes.addClass(title_classes) }}>{{ label }}</h3>
      <ul class='tiles'>
      {# for loop #}

      {% for item in items %}
        {% if items|length =="2" %}
          <li{{ item.attributes.addClass('tile','tile--2') }}><figure>{{ item.content }}</figure></li>
        {% elseif loop.index == "3" %}
          <li{{ item.attributes.addClass('tile','tile--2') }}><figure>{{ item.content }}</figure></li>
          {% elseif loop.index == "8" %}
            <li{{ item.attributes.addClass('tile','tile--2') }}><figure>{{ item.content }}</figure></li>
        {% else %}
        {# default #}
          <li{{ item.attributes.addClass('tile','tile--4') }}><figure>{{ item.content }}</figure></li>
        {% endif %}
      {% endfor %}


      </ul>
    </section>




  {% else %}

  {# single with label ------------------------------------------------------ #}
    <section{{ attributes.addClass(classes) }}>
      <h3{{ title_attributes.addClass(title_classes) }}>{{ label }}</h3>
      {% for item in items %}
        <figure{{ item.attributes }}>{{ item.content }}</figure>
      {% endfor %}
    </section>
  {% endif %}

{% endif %}
